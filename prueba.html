<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta charset="UTF-8">
    <title>JMap Core</title>
    <link rel="stylesheet" href="./css/style.css">
  </head>
  <body class="jmap_wrapper">
  	<div id="my-custom-map"></div>
    <script type="text/javascript">
      setTimeout(() => {
        /*
        console.log("CARGO");
        Longitud: -76.0000000
        Latitud: -10.0000000
        JMap.Map.getMap().getCenter();
         {ne { x: -58.293386521142864, y: 0.43416662411878804 }
        sw: { x: -90.02818307822427, y: -18.572055009829185 }}
        */
        JMap.Map.zoomToRect({
          ne: { x: -58.293386521142864, y: 0.43416662411878804 },
          sw: { x: -90.02818307822427, y: -18.572055009829185 }
        });
      }, 5000);
      window.JMAP_OPTIONS = {
        projectId: 1,
        restBaseUrl: "https://jmapdoc.jmaponline.net/services/rest/v2.0",
        anonymous: true,
        map: {
          containerId: "my-custom-map",
          zoom: 8.702330187924481,
          center: {
            x: -73.71123535973672,
            y: 45.565083749787306
          },
          scaleControlVisible: true,
          scaleControlPosition: "bottom-right",          
          onStartupMapReadyFn: () => {
            const initialCenter = JMap.Map.getMap().getCenter();
            console.log(initialCenter.lat);
            console.log(initialCenter.lng);

            JMap.Event.Map.on.moveEnd("move-end", (params) => {
              const center = params.map.getCenter();
              console.log(center.lat);
              console.log(center.lng);
            });
          }          
          
        },
        onReady: () => {
          JMap.Event.Map.on.click("selectLocation", (res) => {
            console.log(res.location.x);
            console.log(res.location.y);
          });
        }
      }
    </script>
    <script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/jmap-core-js@jmap-ng-doc"></script>
  </body>
</html>